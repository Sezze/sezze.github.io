(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{255:function(e,n,t){var content=t(292);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,t(30).default)("416d741c",content,!0,{sourceMap:!1})},291:function(e,n,t){"use strict";var r=t(255);t.n(r).a},292:function(e,n,t){(e.exports=t(29)(!1)).push([e.i,".game[data-v-afd5bb74]{position:relative}.game .cell-grid[data-v-afd5bb74]{display:grid;grid-template-columns:1fr 1fr 1fr;grid-gap:1px;background-color:grey;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.game .cell-grid .cell[data-v-afd5bb74]{height:calc(4rem + 8vw);font-size:2rem;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center;background-color:#fff;cursor:pointer}.game .cell-grid .cell[data-v-afd5bb74]:hover{background-color:#fafafa}.game .cell-grid .cell[data-v-afd5bb74]:active{background-color:#f5f5f5}.game .cell-grid .cell.highlight[data-v-afd5bb74]{background-color:#ff9000}.game .winner[data-v-afd5bb74]{position:absolute;display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center;text-shadow:0 0 4px #000;color:#fff;font-size:2rem;left:0;top:0;width:100%;height:100%;background-color:rgba(0,0,0,.43922)}",""])},301:function(e,n,t){"use strict";t.r(n);t(62);var r=t(18),o=(t(87),t(290)),l={data:function(){return{cellValues:[0,0,0,0,0,0,0,0,0],symbols:["","X","O"],rows:[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[2,4,6],[2,5,8],[0,4,8],[2,4,6]],aiWins:0,playerWins:0,gameIsRunning:!1,turn:null,ai:{academy:null,teacher:null,agent:null}}},computed:{rowValues:function(){var e=this;return this.rows.map((function(n){return n.map((function(n){return e.cellValues[n]}))}))},winningRow:function(){var e=this;return this.rows.find((function(n){return n.every((function(t){return e.cellValues[t]===e.cellValues[n[0]]}))&&0!==e.cellValues[n[0]]}))},winner:function(){return this.winningRow?this.cellValues[this.winningRow[0]]:null}},layout:"experiment",methods:{setupTraining:function(){console.log("Creating model...");var e=new o.NeuralNetwork;e.InputShape=[26],e.addNeuralNetworkLayers([{type:"dense",units:27,activation:"relu"},{type:"dense",units:27,activation:"relu"},{type:"dense",units:9,activation:"softmax"}]);var n=new o.Model.FromNetwork(e,{epochs:1,stepsPerEpoch:16});n.compile({loss:"meanSquaredError",optimizer:"sgd"}),console.log("Creating agent...");var t={model:n,agentConfig:{memorySize:27,batchSize:128,temporalWindow:1}},r=new o.Academy,l=r.addTeacher({lessonsQuantity:10,lessonsLength:100,lessonsWithRandom:2,epsilon:1,epsilonDecay:.995,epsilonMin:.05,gamma:.8}),c=r.addAgent(t);r.assignTeacherToAgent(c,l),this.ai.academy=r,this.ai.teacher=l,this.ai.agent=c},startTraining:function(){var e=this,n=this.ai,t=n.academy,o=n.teacher,l=n.agent;console.log("Training...");var c=function(){var n=Object(r.a)(regeneratorRuntime.mark((function n(){var r,d,f,v,h;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(0!==(r=[0,1,2,3,4,5,6,7,8].filter((function(i){return 0===e.cellValues[i]}))).length&&!e.winner){n.next=5;break}e.clearBoard(),n.next=18;break;case 5:if(d=r[Math.floor(Math.random()*r.length)],e.cellValues.splice(d,1,1),!(r.length>=2)){n.next=17;break}f=!1;case 9:if(f){n.next=17;break}return n.next=12,t.step([{teacherName:o,agentsInput:e.cellValues}]);case 12:v=n.sent,h=v.get(l),0!==e.cellValues[h]?t.addRewardToAgent(l,-.1):(e.cellValues.splice(h,1,2),t.addRewardToAgent(l,.1),f=!0),n.next=9;break;case 17:2===e.winner?(t.addRewardToAgent(l,10),e.aiWins++,console.log("The AI won")):1===e.winner&&(t.addRewardToAgent(l,-10),e.playerWins++,console.log("The player won"));case 18:requestAnimationFrame(c);case 19:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();c()},clearBoard:function(){this.cellValues=this.cellValues.map((function(){return 0}))}}},c=(t(291),t(10)),component=Object(c.a)(l,(function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",[e.gameIsRunning?e._e():t("div",[t("b-alert",{attrs:{show:"",variant:"danger"}},[t("h3",[e._v("WIP!")]),e._v(" "),t("p",[e._v("\n        This experiment is still a work-in-progress. You can start teaching\n        the AI by first clicking the setup button followed by the start\n        button. I will finish this experiment as soon as possible.\n      ")]),e._v(" "),t("p",[e._v("Warning for flashing lights")])]),e._v(" "),t("h3",[e._v("Time to learn!")]),e._v(" "),t("p",[e._v("\n      Your opponent does not currently know how to play Tic-tac-toe. Let's\n      change that, with machine learning!\n    ")])],1),e._v(" "),t("div",[t("b-btn",{attrs:{variant:"primary"},on:{click:e.setupTraining}},[e._v("Setup training")]),e._v(" "),t("b-btn",{attrs:{variant:"primary"},on:{click:e.startTraining}},[e._v("Start training")])],1),e._v(" "),t("div",[t("p",[e._v("Player wins: "+e._s(e.playerWins))]),e._v(" "),t("p",[e._v("AI wins: "+e._s(e.aiWins))]),e._v(" "),t("p",[e._v("AI winrate: "+e._s(e.aiWins/e.playerWins))])]),e._v(" "),e.gameIsRunning?t("div",[t("h3",{staticStyle:{"text-align":"center"}},[e._v("\n      "+e._s(1===e.turn?"Your turn":"Your opponent is thinking")+"\n    ")])]):e._e(),e._v(" "),t("div",{staticClass:"game"},[t("div",{staticClass:"cell-grid"},e._l(e.cellValues,(function(n,i){return t("div",{key:i,staticClass:"cell",class:{highlight:e.winningRow&&-1!==e.winningRow.indexOf(i)}},[e._v("\n        "+e._s(e.symbols[n])+"\n      ")])})),0),e._v(" "),e.winner?t("div",{staticClass:"winner"},[t("div",[e._v(e._s(1===e.winner?"You won! üéâ":"You lost! üñ•Ô∏è"))]),e._v(" "),t("div",[t("b-btn",{attrs:{variant:"primary"}},[e._v("Restart")])],1)]):e._e()])])}),[],!1,null,"afd5bb74",null);n.default=component.exports}}]);